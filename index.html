<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="utf-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge" />
    <meta name="viewport" content="width=device-width,initial-scale=1.0" />
    <link rel="stylesheet" href="./styles.css">
    <title>데이터시각화 테스트</title>
    <script
            type="text/javascript"
            src="https://www.gstatic.com/charts/loader.js"
    ></script>

    <script type="text/javascript">
        google.charts.load('current', {
            'packages':['geochart'],
        });
        google.charts.setOnLoadCallback(drawRegionsMap);

        function drawRegionsMap() {
            var data = google.visualization.arrayToDataTable([
                ['Country', 'Popularity'],
                ['India', 1000],
                ['Bangladesh', 990],
                ['Pakistan', 980],
                ['Sri Lanka', 900],
                ['UAE', 880],
                ['Afghanistan', 500],
                ['Syria', 450],
                ['Iraq', 400],
                ['Armenia', 390],
                ['Palestine', 380],
            ]);

            var options = {
                // backgroundColor: {fill: '', stroke: '', strokeWidth: 0},
                colorAxis: { colors: ['#133182', '#1D4BC6', '#3B69E2', '#6F90EA', '#91ABEF', '#C4D2F6', '#C4D2F6', '#C4D2F6', '#C4D2F6', '#C4D2F6'].reverse() },
                legend: 'none',
                magnifyingGlass: {enable: false, zoomFactor: 10.5},
                tooltip: { trigger: 'none' },
            };

            var chart = new google.visualization.GeoChart(document.getElementById('regions_div'));

            chart.draw(data, options);
        }
    </script>
    <script type="text/javascript">
        // 아래 두 줄은 google charts가 있는 모든 웹 페이지에 포함되어야 함
        // corechart (bar, column, line, area, stepped area, bubble, pie, donut, combo, candlestick, histogram, scatter)
        // drawChart 이름은 전역에서 정한 마음대로 사용할 수 있음
        google.charts.load("current", { packages: ["corechart"] });
        google.charts.setOnLoadCallback(drawChart);

        let data;
        let options;
        let chart;

        let mockData = [
            {
                country: "India",
                totalSales: 1000,
                percentage: 85,
                id: 0
            },
            {
                country: "Bangladesh",
                totalSales: 990,
                id: 1
            },                {
                country: "Pakistan",
                totalSales: 980,
                id: 2
            },
            {
                country: "Sri Lanka",
                totalSales: 900,
                id: 3
            },
            {
                country: "UAE",
                totalSales: 880,
                id: 4
            },
            {
                country: "Afghanistan",
                totalSales: 500,
                id: 5
            },
            {
                country: "Syria",
                totalSales: 450,
                id: 6
            },
            {
                country: "Iraq",
                totalSales: 400,
                id: 7
            },
            {
                country: "Armenia",
                totalSales: 390,
                id: 8
            },
            {
                country: "Palestine",
                totalSales: 380,
                id: 9
            },

        ]
        function drawChart() {
            // Define the chart to be drawn.
            data = new google.visualization.DataTable();
            data.addColumn('string', '국가명');
            data.addColumn('number', '매출액');
            // options의 tooltip부분이 여기서 작동합니다
            data.addColumn({'type': 'string', 'role': 'tooltip', 'p': {'html': true}});
            data.addColumn({ 'role': 'style' });
            data.addRows([
                ['India', 1000, customHTMLContent(mockData[0].country), '#133182'],
                ['Bangladesh', 990, customHTMLContent(mockData[1].country), '#1D4BC6'],
                ['Pakistan', 980, customHTMLContent(mockData[2].country), '#3B69E2'],
                ['Sri Lanka', 900, customHTMLContent(mockData[3].country), '#6F90EA'],
                ['UAE', 880, customHTMLContent(mockData[4].country), '#91ABEF'],
                [mockData[5].country, 500, createCustomHTMLContent(mockData[5].country, mockData[6].country, mockData[7].country, mockData[8].country, mockData[9].country ), '#C4D2F6'],
                ['Syria', 450, createCustomHTMLContent(mockData[5].country, mockData[6].country, mockData[7].country, mockData[8].country, mockData[9].country ), '#C4D2F6'],
                ['Iraq', 400, createCustomHTMLContent(mockData[5].country, mockData[6].country, mockData[7].country, mockData[8].country, mockData[9].country ), '#C4D2F6'],
                ['Armenia', 390, createCustomHTMLContent(mockData[5].country, mockData[6].country, mockData[7].country, mockData[8].country, mockData[9].country ), '#C4D2F6'],
                ['Palestine', 380, createCustomHTMLContent(mockData[5].country, mockData[6].country, mockData[7].country, mockData[8].country, mockData[9].country ), '#C4D2F6']
            ])

            options = {
                legend: 'none',
                // tooptip.isHtml 옵션이 true여야 .google-visualization-tooltip으로  css 작업가능함
                tooltip: { isHtml: true }
            };

            // Create and draw the visualization.
            chart = new google.visualization.BarChart(document.querySelector("#bar-chart")).draw(data, options);

            function customHTMLContent(countryName) {
                return `<div class="test">${countryName}</div>`
            }
            function createCustomHTMLContent(top6, top7, top8, top9, top10) {
                return `<ul>
                            <li>${top6}</li>
                            <li>${top7}</li>
                            <li>${top8}</li>
                            <li>${top9}</li>
                            <li>${top10}</li>
                        </ul>`
            }
        }
    </script>

    <script type="text/javascript">
        // 아래 두 줄은 google charts가 있는 모든 웹 페이지에 포함되어야 함
        // corechart (bar, column, line, area, stepped area, bubble, pie, donut, combo, candlestick, histogram, scatter)
        // drawChart 이름은 전역에서 정한 마음대로 사용할 수 있음
        google.charts.load("current", { packages: ["corechart"] });
        google.charts.setOnLoadCallback(drawChart);

        let data2;
        let options2;
        let chart2;

        function drawChart() {
            // Define the chart to be drawn.


            data2 = new google.visualization.DataTable();
            data2.addColumn('string', '국가명');
            data2.addColumn('number', '매출액');
            data2.addRows([
                ['India', 5000],
                ['Bangladesh', 4000],
                ['Pakistan', 3000],
                ['Sri Lanka', 2000],
                ['UAE', 2000],
                ['etc', 500],
            ])


            options2 = {
                colors: ['#133182', '#1D4BC6', '#3B69E2', '#6F90EA', '#91ABEF', '#C4D2F6', '#C4D2F6', '#C4D2F6', '#C4D2F6', '#C4D2F6'],
                legend: 'none',
            };

            // Instantiate and draw the chart.
            chart2 = new google.visualization.PieChart(document.getElementById("chart_div"));
            chart2.draw(data2, options2);
        }
    </script>
</head>
<body>
<h3>Sales by Country</h3>
<!-- Identify where the chart should be drawn. -->
<div>
    <div id="regions_div" style="width: 900px; height: 500px;"></div>
    <div id="bar-chart" style="width: 900px; height: 500px;"></div>
</div>
<div id="chart_div" style="width: 900px; height: 500px;">dddd</div>
<div>

</div>
</body>
</html>
